const miModulo=(()=>{"use strict";let f=[],g=[],h=["C","D","H","S"],i=["A","J","Q","K"],a=document.querySelector("#btnPedir"),b=document.querySelector("#btnNuevo"),c=document.querySelector("#btnDetener"),d=document.querySelectorAll(".tablero"),j=document.querySelectorAll("small");console.log({divCartasJugador:d});let e=(e=2)=>{f=k(),g=[];for(let b=0;b<e;b++)g.push(0);console.log({puntosJugadores:g}),j.forEach(a=>a.innerText=0),d.forEach(a=>a.innerHTML=""),a.disabled=!1,c.disabled=!1},k=()=>{f=[];for(let a=2;a<=10;a++)for(let b of h)f.push(a+b);for(let c of h)for(let d of i)f.push(d+c);return _.shuffle(f)},l=()=>{if(0===f.length)throw"No hay cartas en la baraja";return f.pop()},m=b=>{let a=b.substring(0,b.length-1);return isNaN(a)?"A"===a?11:10:1*a},n=(b,a)=>(g[a]+=m(b),j[a].innerText=g[a],g[a]),o=(b,c)=>{let a=document.createElement("img");a.src=`cartas/${b}.png`,a.classList.add("carta"),d[c].append(a)},p=(a,b)=>{setTimeout(function(){b===a?alert("Nadie gana"):a>21?alert("Gana computadora"):b>21?alert("Gana el jugador"):alert("Gana computadora")},80)},q=a=>{let b=0;do{let c=l();b=n(c,g.length-1),o(c,d.length-1)}while(b<a&&a<=21)p(a,b)};return a.addEventListener("click",()=>{let b=0,e=l();console.log({puntosJugador:b}),b=n(e,0),console.log(d),o(e,0),b>21?(console.warn("Perdedor"),a.disabled=!0,c.disabled=!0,q(b)):21===b&&(console.warn("Hiciste 21!"),a.disabled=!0,c.disabled=!0,q(b))}),c.addEventListener("click",()=>{c.disabled=!0,a.disabled=!0,q(g[0])}),b.addEventListener("click",()=>{e()}),{nuevoJuego:e}})()